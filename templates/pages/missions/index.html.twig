{% extends 'base.html.twig' %}

{% block title "Accueil" %} 

{% block body %}

	<main role="main">

		<section class="jumbotron text-center bg-light pt-4 pb-4">
			<div class="container">
				<h1 class="jumbotron-heading"> LE SPECIALISTE DES MISSIONS EN IT </h1>
				<p class="lead text-muted"> NOUS AVONS LA MISSION QU'IL VOUS FAUT </p>
				
				<div class="container" id="search_offre">
					<form class="d-flex"  role="search">
						<input class="form-control me-2 btn-outline-success" type="search" placeholder="Cherchez une opportunité par mot-clé.." aria-label="Search">
						<button class="btn btn-outline-success" type="submit">
                            <i class="bi bi-search"></i> Trouver une mission
						</button>
					</form>
				</div>
			</div>
		</section>
		
		<div class="album bg-white">
			<div class="container">
				{% if not missions.items is same as([]) %}

					<div class="album py-3 px">
						
						<div class="row mb-4">
							<div class="count"> Votre recherche renvoie {{ missions.getTotalItemCount }} résultats. </div>
						</div>

						<div class="navigation d-flex mt-2 mb-2">
							{{ knp_pagination_render(missions) }}
						</div>

						<div class="row">
							{% for mission in missions %}
								<div class="col-md-4">
									<div class="card mb-4 box-shadow">

										{# <a class="nav-link" href="{{ path('app_show_offre', {id: mission.id, slug: mission.slug}) }}"> 
											<img class="card-img-top" data-src="holder.js/100px225?theme=thumb&bg=55595c&fg=eceeef&text=Thumbnail" style="height: 225px; width: 100%; display: block;" src="data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%22348%22%20height%3D%22225%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20348%20225%22%20preserveAspectRatio%3D%22none%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%23holder_193fb4f7eaa%20text%20%7B%20fill%3A%23eceeef%3Bfont-weight%3Abold%3Bfont-family%3AArial%2C%20Helvetica%2C%20Open%20Sans%2C%20sans-serif%2C%20monospace%3Bfont-size%3A17pt%20%7D%20%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_193fb4f7eaa%22%3E%3Crect%20width%3D%22348%22%20height%3D%22225%22%20fill%3D%22%2355595c%22%3E%3C%2Frect%3E%3Cg%3E%3Ctext%20x%3D%22116.71249771118164%22%20y%3D%22120.18000011444092%22%3EThumbnail%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E">
										</a> #}

										<div class="card-body">
											
											<h4 class="titre_offre"> <a class="nav-link" href="{{ path('app_show_offre', {id: mission.id, slug: mission.slug}) }}"> 
												{{ mission.nom | upper }}
												</a>
											</h4>

											<small class="text-body-secondary nom_client">
												Client : {{ mission.societes.nom | capitalize  }}
											</small>
											
											<p class="card-text">
												<a href="{{ path('app_show_offre', {id: mission.id, slug: mission.slug}) }}">
													{{ mission.description | u.truncate(200, ' ...') }}
												</a>
											</p>
											<div class="d-flex justify-content-between align-items-center">
												<div class="btn-group">
													<a class="btn btn-sm btn-outline-secondary lien_offre" href="{{ path('app_show_offre', {id: mission.id, slug: mission.slug}) }}">
													Voir cette offre </a>
												</div>
												<small class="text-body-secondary">Publié le {{ mission.startDateAT|date('d/m/Y') }} </small>
											</div>
										</div>
									</div>
								</div>
							{% endfor %}
						</div>

						<div class="navigation d-flex   mt-4">
							{{ knp_pagination_render(missions) }}
						</div>
					</div>
				{% else %}
					<h4> Aucune missions trouvées !</h4>
				{% endif %}
			</div>
		</div>
	</main>
	
{% endblock %}
