{% extends 'base.html.twig' %}

{% block title %}Modifier votre mot de passe{% endblock %}

{% block body %}

    <main role="main">

		<section class="jumbotron text-center bg-light pt-4 pb-4">
			<div class="container">
				<h1 class="jumbotron-heading"> Changer votre mot de passe </h1>
			</div>
		</section>

        <div class="album py-3">
			<div class="container col-md-4">

                <div class="m-auto">
                    {{ form_start(resetForm) }}

                        <div class="field field-password">
                            {{ form_label(resetForm.plainPassword.first, null, {
                                'label': 'Nouveau mot de passe',
                                'label_attr': {'class': 'mt-4'}
                            }) }}
                            {{ form_widget(resetForm.plainPassword.first, { 'attr': {'class': 'mb-4'} }) }}
                            {{ form_errors(resetForm.plainPassword.first) }}

                            <div class="password-show">
                                <i data-feather="eye"></i>
                            </div>
                            <div class="password-hide">
                                <i data-feather="eye-off"></i>
                            </div>


                            {{ form_label(resetForm.plainPassword.second, null, {
                                'label': 'Confirmer le mot de passe',
                                'label_attr': {'class': 'mt-4'}
                            }) }}
                            {{ form_widget(resetForm.plainPassword.second, { 'attr': {'class': 'mb-4'} }) }}
                            {{ form_errors(resetForm.plainPassword.second) }}
                            <div class="password-show-2">
                                <i data-feather="eye"></i>
                            </div>

                            <div class="password-hide-2">
                                <i data-feather="eye-off"></i>
                            </div>
                        </div>
                        <button class="btn btn-primary">Confirmer</button>
                    {{ form_end(resetForm) }}
                </div>

            </div>
        </div>
    </main>
{% endblock %}

{% block jsfooter %}
<script src="https://unpkg.com/feather-icons"></script>
<script>
	feather.replace();

	const eye 		= document.querySelector(".feather-eye");
	const eyeoff 	= document.querySelector(".feather-eye-off");

    const eye_2 	= document.querySelector("password-show-2 .feather-eye");
	const eyeoff_2 	= document.querySelector(".password-hide-2 .feather-eye-off");
	const passwordField = document.querySelector("input[type=password]");

	eye.addEventListener("click", () => {
		eye.style.display = "none";
		eyeoff.style.display = "block";
		passwordField.type = "text";
	});

	eyeoff.addEventListener("click", () => {
		eyeoff.style.display = "none";
		eye.style.display = "block";
		passwordField.type = "password";
	});

    eye_2.addEventListener("click", () => {
		eye_2.style.display = "none";
		eyeoff_2.style.display = "block";
		passwordField.type = "text";
	});

    eyeoff_2.addEventListener("click", () => {
		eyeoff_2.style.display = "none";
		eye_2.style.display = "block";
		passwordField.type = "password";
	});
</script>
{% endblock %}
